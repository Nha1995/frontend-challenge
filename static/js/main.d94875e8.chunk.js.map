{"version":3,"sources":["Header/Header.js","redux/reducer.js","redux/store.js","CatImage/CatImage.js","AllCats/AllCats.js","FavoriteCats/FavoriteCats.js","App.js","index.js"],"names":["Header","state","catsPage","opacityHandler","value","setState","className","to","onClick","this","React","Component","initialState","favoriteCats","reducer","action","type","payload","cat","newFavCats","filter","favCat","id","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","Image","src","props","url","alt","pageNumber","key","Cats","cats","infiniteScroll","innerHeight","document","documentElement","scrollTop","offsetHeight","loadMoreCatsHandler","getCatsFunction","a","fetch","response","json","results","getCats","err","console","log","isFavorite","undefined","find","dispatch","checkFavoriteHandler","addEventListener","removeEventListener","map","width","height","viewBox","fill","xmlns","d","updateDataSets","connect","functionFromConnect","Favorites","removeHandler","App","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d94875e8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    catsPage: true,\r\n  };\r\n\r\n  opacityHandler = (value) => {\r\n    if (value === \"cats\") {\r\n      this.setState({ catsPage: true });\r\n    } else {\r\n      this.setState({ catsPage: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"header\">\r\n        <Link\r\n          to=\"/\"\r\n          onClick={() => this.opacityHandler(\"cats\")}\r\n          className={\r\n            this.state.catsPage\r\n              ? \"header__link\"\r\n              : \"header__link header__opacity\"\r\n          }\r\n        >\r\n          Все котики\r\n        </Link>\r\n\r\n        <Link\r\n          to=\"/favorites\"\r\n          onClick={() => this.opacityHandler(\"favorite cats\")}\r\n          className={\r\n            this.state.catsPage\r\n              ? \"header__link header__opacity\"\r\n              : \"header__link\"\r\n          }\r\n        >\r\n          Любимые котики\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","const initialState = {\r\n  favoriteCats: [],\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"ADD CAT IN FAVORITES\": {\r\n      return {\r\n        favoriteCats: [...state.favoriteCats, action.payload.cat],\r\n      };\r\n    }\r\n    case \"DELETE CAT\": {\r\n      const newFavCats = state.favoriteCats.filter((favCat) => {\r\n        return favCat.id !== action.payload.cat.id;\r\n      });\r\n      return {\r\n        favoriteCats: newFavCats,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\nexport default reducer;\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducer';\r\n\r\n\r\nlet store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;","import React from \"react\";\r\nimport \"./CatImage.css\";\r\n\r\nclass Image extends React.Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <img src={this.props.url} className=\"img\" alt=\"Cat\" />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Image;\r\n","import React from \"react\";\r\nimport \"./AllCats.css\";\r\nimport store from \"../redux/store\";\r\nimport { connect } from \"react-redux\";\r\nimport CatImage from \"../CatImage/CatImage\";\r\n\r\nlet pageNumber = 0;\r\nconst key = \"api_key=23e83fc7-a78b-4306-b286-3496593e575d\";\r\n\r\nclass Cats extends React.Component {\r\n  state = {\r\n    cats: [],\r\n  };\r\n\r\n  infiniteScroll = () => {\r\n    // Достигнут конец документа\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop ===\r\n      document.documentElement.offsetHeight\r\n    ) {\r\n      this.loadMoreCatsHandler();\r\n    }\r\n  };\r\n  \r\n  //Получает 15 фотографий из API для текущего pageNumber и добавляет их в state.\r\n  getCatsFunction = () => {\r\n    try {\r\n      const getCats = async () => {\r\n        const response = await fetch(\r\n          `https://api.thecatapi.com/v1/images/search?limit=15&page=${pageNumber}&order=Desc&${key}`\r\n        );\r\n        const results = await response.json();\r\n        this.setState({ cats: [...this.state.cats, ...results] });\r\n      };\r\n      getCats();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  //Обнуляем номер страницы при первичной загрузке, далее подписываемся на событие scroll с функцией infiniteScroll\r\n  //  и вызываем функцию getCatsFunction для получения из сервера нужных нам объектов.\r\n  componentDidMount() {\r\n    pageNumber = 0;\r\n    window.addEventListener(\"scroll\", this.infiniteScroll);\r\n    this.getCatsFunction();\r\n  }\r\n\r\n  //отписываемся от события scroll\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.infiniteScroll);\r\n  }\r\n\r\n  //Реализована функция добавления и удаления котиков в раздел \"Любимые котики\" через redux.\r\n  isFavorite = (cat) => {\r\n    const isCat = this.props.favoriteCats.find(\r\n      (favCat) => favCat.id === cat.id\r\n    );\r\n    if (isCat === undefined) {\r\n      store.dispatch({\r\n        type: \"ADD CAT IN FAVORITES\",\r\n        payload: {\r\n          cat: cat,\r\n        },\r\n      });\r\n    } else {\r\n      store.dispatch({\r\n        type: \"DELETE CAT\",\r\n        payload: {\r\n          cat: cat,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  //Функция проверяет есть ли данная фотография в списке \"Любимых котиков\" и в зависимости от результата возвращает true или false\r\n  checkFavoriteHandler = (cat) => {\r\n    const isCat = this.props.favoriteCats.find(\r\n      (favCat) => favCat.id === cat.id\r\n    );\r\n    if (isCat !== undefined) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //Загружаем больше объектов с API , увеличивая pageNumber на одну еденицу и вызывая функцию getCatsFunction.\r\n  loadMoreCatsHandler = () => {\r\n    pageNumber++;\r\n    this.getCatsFunction();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"cats\">\r\n          {this.state.cats.map((cat) => {\r\n            return (\r\n              <div className=\"cat-block\">\r\n                <CatImage url={cat.url} />\r\n\r\n                {this.checkFavoriteHandler(cat) && (\r\n                  <div className=\"cats__favorite\">\r\n                    <svg\r\n                      width=\"40\"\r\n                      height=\"37\"\r\n                      viewBox=\"0 0 40 37\"\r\n                      fill=\"none\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\r\n                        fill=\"#F24E1E\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                )}\r\n                <div\r\n                  className=\"cats__heart\"\r\n                  onClick={() => this.isFavorite(cat)}\r\n                >\r\n                  {this.checkFavoriteHandler(cat) ? (\r\n                    <svg\r\n                      width=\"40\"\r\n                      height=\"37\"\r\n                      viewBox=\"0 0 40 37\"\r\n                      fill=\"none\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\r\n                        fill=\"#F24E1E\"\r\n                      />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg\r\n                      width=\"40\"\r\n                      height=\"37\"\r\n                      viewBox=\"0 0 40 37\"\r\n                      fill=\"none\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        d=\"M29 0C25.52 0 22.18 1.62 20 4.18C17.82 1.62 14.48 0 11 0C4.84 0 0 4.84 0 11C0 18.56 6.8 24.72 17.1 34.08L20 36.7L22.9 34.06C33.2 24.72 40 18.56 40 11C40 4.84 35.16 0 29 0ZM20.2 31.1L20 31.3L19.8 31.1C10.28 22.48 4 16.78 4 11C4 7 7 4 11 4C14.08 4 17.08 5.98 18.14 8.72H21.88C22.92 5.98 25.92 4 29 4C33 4 36 7 36 11C36 16.78 29.72 22.48 20.2 31.1Z\"\r\n                        fill=\"#F24E1E\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"cats__load-more-cats-link\">\r\n          <p onClick={() => this.loadMoreCatsHandler()}>\r\n            ... загружаем еще котиков ...\r\n          </p>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    favoriteCats: state.favoriteCats,\r\n  };\r\n};\r\n\r\nconst functionFromConnect = connect(mapStateToProps);\r\nconst updateDataSets = functionFromConnect(Cats);\r\n\r\nexport default updateDataSets;\r\n","import React from \"react\";\r\nimport \"./FavoriteCats.css\";\r\nimport Image from \"../CatImage/CatImage\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../redux/store\";\r\n\r\nclass Favorites extends React.Component {\r\n\r\n  //Удаление котика из списка любимые котики.\r\n  removeHandler = (cat) => {\r\n    store.dispatch({\r\n      type: \"DELETE CAT\",\r\n      payload: {\r\n        cat: cat,\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"cats favorites\">\r\n        {this.props.favoriteCats.map((cat) => {\r\n          return (\r\n            <div className=\"cat-block favorite-cat-block\">\r\n              <Image url={cat.url} />\r\n              <div\r\n                className=\"cats__heart\"\r\n                onClick={() => this.removeHandler(cat)}\r\n              >\r\n                <svg\r\n                  width=\"40\"\r\n                  height=\"37\"\r\n                  viewBox=\"0 0 40 37\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    d=\"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z\"\r\n                    fill=\"#F24E1E\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    favoriteCats: state.favoriteCats,\r\n  };\r\n};\r\n\r\nconst functionFromConnect = connect(mapStateToProps);\r\nconst updateDataSets = functionFromConnect(Favorites);\r\n\r\nexport default updateDataSets;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./Header/Header\";\r\nimport Cats from \"./AllCats/AllCats\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Favorites from \"./FavoriteCats/FavoriteCats\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n        <Switch>\r\n          <Route path=\"/favorites\" component={Favorites} />\r\n          <Route path=\"/\" component={Cats} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}