(this["webpackJsonptest-project"]=this["webpackJsonptest-project"]||[]).push([[0],{36:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){},48:function(t,e,a){},51:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),o=(a(36),a(8)),s=a(9),l=a(11),d=a(10),u=(a(37),a(38),a(12)),h=a(1),j=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={catsPage:!0},t.opacityHandler=function(e){"cats"===e?t.setState({catsPage:!0}):t.setState({catsPage:!1})},t}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(u.b,{to:"/",onClick:function(){return t.opacityHandler("cats")},className:this.state.catsPage?"header__link":"header__link header__opacity",children:"\u0412\u0441\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"}),Object(h.jsx)(u.b,{to:"/favorites",onClick:function(){return t.opacityHandler("favorite cats")},className:this.state.catsPage?"header__link header__opacity":"header__link",children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"})]})}}]),a}(c.a.Component),f=(a(24),a(13)),v=(a(27),a(18)),b=(a(48),a(19)),p={favoriteCats:[]};var O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD CAT IN FAVORITES":return{favoriteCats:[].concat(Object(f.a)(t.favoriteCats),[e.payload.cat])};case"DELETE CAT":var a=t.favoriteCats.filter((function(t){return t.id!==e.payload.cat.id}));return{favoriteCats:a};default:return t}},C=Object(b.b)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),m=a(15),x=(a(51),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("img",{src:this.props.url,className:"img",alt:"Cat"})})}}]),a}(c.a.Component)),g=a(30),w=a(31),_=a.n(w),y=0,E="api_key=23e83fc7-a78b-4306-b286-3496593e575d",k=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={cats:[]},t.infiniteScroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&t.loadMoreCatsHandler()},t.getCatsFunction=function(){try{setTimeout((function(){fetch("https://api.thecatapi.com/v1/images/search?limit=15&page=".concat(y,"&order=asc&").concat(E)).then((function(e){return e.json().then((function(e){t.setState({cats:[].concat(Object(f.a)(t.state.cats),Object(f.a)(e))})}))}))}),1e3)}catch(e){console.log(e)}},t.isFavorite=function(e){void 0===t.props.favoriteCats.find((function(t){return t.id===e.id}))?C.dispatch({type:"ADD CAT IN FAVORITES",payload:{cat:e}}):C.dispatch({type:"DELETE CAT",payload:{cat:e}})},t.checkFavoriteHandler=function(e){return void 0!==t.props.favoriteCats.find((function(t){return t.id===e.id}))},t.loadMoreCatsHandler=function(){y++,t.getCatsFunction()},t.loadMoreCatsHandlerDebounced=function(){_()(t.loadMoreCatsHandler.call(Object(v.a)(t)),1500)},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){y=0,this.getCatsFunction()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{children:Object(h.jsx)(g.a,{className:"cats",dataLength:this.state.cats.length,next:this.loadMoreCatsHandler,hasMore:!0,loader:Object(h.jsx)("div",{className:"cats__load-more-cats-link",children:Object(h.jsx)("p",{onClick:function(){return t.loadMoreCatsHandler()},children:"... \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0435\u0449\u0435 \u043a\u043e\u0442\u0438\u043a\u043e\u0432 ..."})}),children:this.state.cats.map((function(e){return Object(h.jsxs)("div",{className:"cat-block",children:[Object(h.jsx)(x,{url:e.url}),t.checkFavoriteHandler(e)&&Object(h.jsx)("div",{className:"cats__favorite",children:Object(h.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z",fill:"#F24E1E"})})}),Object(h.jsx)("div",{className:"cats__heart",onClick:function(){return t.isFavorite(e)},children:t.checkFavoriteHandler(e)?Object(h.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z",fill:"#F24E1E"})}):Object(h.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M29 0C25.52 0 22.18 1.62 20 4.18C17.82 1.62 14.48 0 11 0C4.84 0 0 4.84 0 11C0 18.56 6.8 24.72 17.1 34.08L20 36.7L22.9 34.06C33.2 24.72 40 18.56 40 11C40 4.84 35.16 0 29 0ZM20.2 31.1L20 31.3L19.8 31.1C10.28 22.48 4 16.78 4 11C4 7 7 4 11 4C14.08 4 17.08 5.98 18.14 8.72H21.88C22.92 5.98 25.92 4 29 4C33 4 36 7 36 11C36 16.78 29.72 22.48 20.2 31.1Z",fill:"#F24E1E"})})})]})}))})})}}]),a}(c.a.Component),N=Object(m.b)((function(t){return{favoriteCats:t.favoriteCats}}))(k),H=a(3),L=(a(52),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).removeHandler=function(t){C.dispatch({type:"DELETE CAT",payload:{cat:t}})},t}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"cats favorites",children:this.props.favoriteCats.map((function(e){return Object(h.jsxs)("div",{className:"cat-block favorite-cat-block",children:[Object(h.jsx)(x,{url:e.url}),Object(h.jsx)("div",{className:"cats__heart",onClick:function(){return t.removeHandler(e)},children:Object(h.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z",fill:"#F24E1E"})})})]})}))})}}]),a}(c.a.Component)),T=Object(m.b)((function(t){return{favoriteCats:t.favoriteCats}}))(L),F=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return console.log(window.location.pathname),Object(h.jsx)(u.a,{basename:"/frontend-challenge",children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsxs)(H.c,{children:[Object(h.jsx)(H.a,{path:"/favorites",component:T}),Object(h.jsx)(H.a,{path:"/",component:N})]})]})})}}]),a}(c.a.Component);i.a.render(Object(h.jsx)(u.a,{children:Object(h.jsx)(m.a,{store:C,children:Object(h.jsx)(F,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.8b589f65.chunk.js.map